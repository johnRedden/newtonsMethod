<!DOCTYPE html>

<html>
        <!-- Bootstrap Link -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">            
        <!--jQuery Link-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
        
        <!-- Latest compiled and minified JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
  
        <!-- Optional theme -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
  
  <!--CSS Added-->
<style type="text/css">
 
.jumbotron{

    padding-top: 50px;
    padding-right: 30px;
    padding-bottom: 50px;
    padding-left: 80px;
    border: 2px solid #b94646;
    width: 80%;
    margin-left: auto;
    margin-right: auto;
    box-shadow: 10px 10px 5px grey;
    background-color: #f2f2f2;

}

.col-xs-6{

    padding-top: 50px;
    padding-right: 30px;
    padding-bottom: 50px;
    padding-left: 80px;
    border: 2px solid #b94646;
    box-shadow: 10px 10px 5px grey;
    background-color: #e6e6e6;


}
.row{

    margin-left: auto;
    margin-right: auto;
    
}

.col-xs-2{

    width: 100px;
}

  h1{
  color: white;
    text-shadow: 1px 1px 2px #b94646, 0 0 25px gray, 0 0 5px gray;
}

</style>

<head>
    
    <title>Root Calculator</title>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script> 
    
</head>

<body>
  <h1 align="center">Newton's Method <small>Coming Soon!</small></h1>

<div class="jumbotron">
  
  <!--Same Inputs but with new styling-->
    <div class="col-xs-2">
        
        <!--inputA-->
        <input type="text" class="form-control" id="inputA" placeholder="x^2" autofocus>
         </div>
         
    <div class="col-xs-2">
        
        <!--inputB-->
        <input type="text" class="form-control" id="inputB" placeholder="x">
    
    </div>    
    <div class="col-xs-2">
        
        <!--inputC-->
        <input type="text" class="form-control" id="inputC" placeholder="c">
    
    </div>
    <div class="col-xs-2">
        
        <!--inputXn-->
        <input type="text" class="form-control" id="inputXn" placeholder="Xn">

    </div>
    <div class="col-xs-2">
        
        <!--inputPrecision-->
        <input type="text" class="form-control" id="inputPrecision" placeholder="Precision">

    </div>
        
        <!--Enter Button-->
        <button type="button" class="btn btn-success" id= "myButton" ><span class="glyphicon glyphicon-ok"></span></button>
        <!--Clear Button-->
        <button type="button" class="btn btn-danger" id= "ClearButton" ><span class="glyphicon glyphicon-remove"></span></button>
        <!--Insert Button-->
        <button type="button" class="btn btn-info" id= "InsertButton" >Insert</button>
       
     </div><!--Close Jumbotron-->
     
   <!-- <div class="jumbotron" style="visibility: hidden;" id="JumbotronAnswer"> -->

     <!-- <div class="col-xs-6">Output-->
<div class="row" style="width: 80%" align="left" >
    <div class="col-xs-6" style="visibility: hidden;"><p id="myOutput">Answer</p></div>
    <div class="col-xs-6" style="visibility: hidden;"><p id="ChangeX">Change of X</p></div>
    </div>
   
  <script>
    
      $( document ).ready(function() {

        //Fade In Animation Occurs when Check Button is Pressed
           $("#myButton").click(function(){
        //Fades in different pieces
        // $('#JumbotronAnswer').css({ opacity: 0.0, visibility: "visible" }).animate({ opacity: 1.0 }, 1 * 1000);
           $('.col-xs-6 ').css({ opacity: 0.0, visibility: "visible" }).animate({ opacity: 1.0 }, 1 * 1000);
           $('#myOutput').css({ opacity: 0.0, visibility: "visible" }).animate({ opacity: 1.0 }, 1 * 2000);
           $('#ChangeX').css({ opacity: 0.0, visibility: "visible" }).animate({ opacity: 1.0 }, 1 * 3000);
         });

                                                                                    
                                                                                    
                                                                                    //   ~INPUT~
        
        // Getting input variables
        var a;
        var b;
        var c;
       // xn is first guess
        var xn;
       // precision is a user input of how precise they want the answer
        var precision; 
        
        /*
        console.log("Before inputs");
        
        $("#inputA").keyup(function(e){
          a = $(this).val();
          a = parseInt(a);
         // console.log(a);          
        }
          )
          
        $("#inputB").keyup(function(e){
          b = $(this).val();
          b = parseInt(b);
         // console.log(b);          
        }
          )
        
         $("#inputC").keyup(function(e){
          c = $(this).val();
          c = parseInt(c);
         // console.log(c);          
        }
          )
          
          $("#inputXn").keyup(function(e){
          xn = $(this).val();
          xn = parseInt(xn);
         // console.log(xn);          
        }
          )
          
           $("#inputPrecision").keyup(function(e){
          precision = $(this).val();
          precision = parseInt(precision);
         // console.log(precision);          
        }
          )
          */
           
                                                                                // ~OUTPUT~
                                                                                
               
          //doing the math
          var func;  // function
          var deriv;  // derivative
          var ans;    // answer
          // delta is used to measure convergence
          var delta;
           
           
           $("#myButton").click(function(){

          //Populating variables
          a = $("#inputA").val();
          a = parseInt(a);
          b = $("#inputB").val();
          b = parseInt(b);
          c = $("#inputC").val();
          c = parseInt(c);
          xn = $("#inputXn").val();
          xn = parseInt(xn);
          precision = $("#inputPrecision").val();
          precision = parseInt(precision);
             
             // Check if input is 0 or null          
          if( a == 0 || a == null )
          {
            console.log("If-then A worked");
            a = 0;
          }          
          if( b == 0 || b == null )
          {
            console.log("If-then B worked");
            b = 0;
          }          
          if( c == 0 || c == null )
          {
            console.log("If-then C worked");
            c = 0;
          }
          

          //Set f(x)
           func = a*xn*xn + b*xn + c
          
          //Set f'(x)
          deriv = 2*a*xn + b;
          
          //Set Answer
          ans = xn - func/deriv;
          
          // delta starts as the first guess equal to whatever value to user inputs.
          // during the do loop it is set to = ans - xn, effectively making it the difference between the most recent
          // answer and the last answer.
          delta = xn;
          

            //showing results
            var Result = "";
            var ChangeOfxResult = "";
            
            //counter
            var counter = 0;

          do { //Beginning of Loop for amount of iterations
            
          //Set f(x)
           func = a*xn*xn + b*xn + c
          //Set f'(x)
          deriv = 2*a*xn + b;
          //Set Answer
          ans = xn - func/deriv;
             
          //Set Delta
          delta = ans - xn;

          // xn will be set to the new answer in preparation for another loop
          xn = ans;

          //Adding counter to track number of loop iterations
          counter ++ ;

          //Writing to MyOutput String
          Result += "x" + counter + "= " + ans + "<br>";

          //Writing to ChangeX string
          ChangeOfxResult += "Change of: X" + counter + "= " + delta + "<br>";


          
          // case for imaginary numbers
          if (counter > 10000)
          {
            Result = "It looks like this function doesn't converge to a root!" + "<br>" + Result;
            
            break;
            
            }
          
          }

          while (delta > precision || delta < (precision*-1));
          
          //Outputting results to webpage
          $('#myOutput').html(Result);
          $('#ChangeX').html(ChangeOfxResult);
       });
          
           //Clear Button
        $("#ClearButton").click(function(){
           
            $('#inputA').val('');
            $('#inputB').val('');
            $('#inputC').val('');
            $('#inputXn').val('');
            $('#inputPrecision').val('');

           });//Clear Button end

         //Insert Button
        $("#InsertButton").click(function(){
           
            $('#inputA').val('1');
            $('#inputB').val('-1');
            $('#inputC').val('-6');
            $('#inputXn').val('1');
            $('#inputPrecision').val('0.001');

           });//Insert Button end

       });//Don't delete
    
  </script>
</body>
</html>